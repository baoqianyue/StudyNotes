# 三维对象    

三维对象在计算机中的处理过程:   

首先按照物体的几何数据或现象的数学函数来构造出造型模型的数据结构,然后对造型模型中的参数通过**投影变换,裁剪,消隐,光照**等过程显示出来   

## 三维实体表示  

在计算机图形领域,物体的几何造型经历了线框模型,表面模型和实体模型三个阶段    
线框模型没有面的信息,不能描述内部和外部,拓扑关系不明   

表面模型在线框模型的基础上增加了面的信息,但是仍不够严密,比如有的面有二义性,无法分清面的正反以及实体的内部和外部,物体有可能不封闭    

实体模型是最完善的模型定义,能够表达全部的形状信息     
一个有效的实体应具有的性质:   

* 刚性   

    一个实体必须有不变的形状   

* 具有封闭的边界   

    根据其边界可以将空间分为内部和外部两部分   

* 内部联通   

* 占据有限的空间   

* 经过集合运算后,仍然是有效的实体    


### 表示方法    

#### 边界表示   

通过描述实体的边界来表示实体    

可以用点,边,面片三者之间共9种索引关系来表示实体的拓扑关系,**实体的边界能够唯一定义一个实体,即一个实体是否合法只要对其边界的拓扑关系进行判断就行了**  

实体的边界需要满足的条件:  

* 每条邻边必须要有两个已知坐标的端点     

* 每条边只能被两个面共享  

* 每个顶点至少被三个面或三个边所共享      


* 使用欧拉公式来判断简单实体的有效性   

    设简单多面体的顶点数,边数和面数分别用V,E,F表示,则存在如下关系:   

    $$V - E + F = 2$$    

    但这只是判断实体有效的一个必要条件,并不是充分条件,有些图形有可能也满足欧拉公式,但其实不是有效的实体.     

* 使用拓展的欧拉公式来判断非简单多面体的有效性   

    引入另外三个参数,形体表面上的孔数H,穿透多面体的洞数G,独立不相连接的多面体数C,满足下面的关系:   

    $$V - E + F - H = 2(C - G)$$   

    拓展后的欧拉公式仍然只是必要条件,并不是充分条件   

* 边界表示法常用的数据结构    

    ```c++
    #include <vector>
    using namespace std;
    class Point
    {
        int id; //顶点编号 
        int x; //横坐标
        int y; //纵坐标 
    }

    vector<Point> points; //存放顶点对象的容器
    class Edge 
    {
        int edge_id; //边的编号 
        int begin_point; //指向points容器中对应边的起点的索引
        int end_point; //指向points容器中对应边的终点的索引
        int left_facet; //指向facets容器中对应此边左侧邻面的元素索引
        int right_facet; //指向facets容器中的对应此边右侧邻面的元素索引
    }

    vector<Edge> edges; //存放边对象的容器
    class Facet
    {
        vector<int> vectices; //该面片边界顶点序列数组,其元素值为指向points数组的指针 
        vector<int> edges; //该面片各边的数组,其元素值为指向edges数组的指针 
    }
    vector<Facet> facets; //存放面片对象的容器   
    
    ```



